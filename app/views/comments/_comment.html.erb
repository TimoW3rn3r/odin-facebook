<div class="my-2 flex gap-2">

  <div class="mt-2 shrink-0">
    <% if comment.user.profile_picture.attached? %>
      <%= image_tag comment.user.profile_picture.variant(:thumb), class: "profile-picture-small" %>
    <% else %>
      <%= image_tag "default.jpeg", class: "profile-picture-small" %>
    <% end %>
  </div>

  <div class="w-max">
    <div class="px-4 py-2 max-w-full bg-slate-200 rounded-2xl shadow-sm">
      <div class="font-bold text-sm">
        <%= link_to comment.user.full_name,
          comment.user,
          data: { turbo_frame: "_top" } %>
      </div>
      <p class="break-word">
        <%= comment.body %>
      </p>
    </div>

    <div class="px-4 flex gap-4 items-center text-gray-600 font-medium text-xs">
      <span>â™¡
        <% if (likes_count = comment.likes.size) == 0 %>
          0
        <% else %>
          <%= link_to likes_count,
            commentable_comment_likes_path(comment),
            data: { turbo_frame: "_top" } %>
        <% end %>
      </span>
      <div>
        <% if like = find_like(comment, current_user) %>
          <%= link_to "Like", [comment.commentable, comment, like],
            data: { turbo_method: :delete },
            class: "text-blue-500 font-semibold" %>
        <% else %>
          <%= render "likes/form", likeable: comment %>
        <% end %>
      </div>
      <div class="text-gray-400">
        <%= local_time_ago(comment.created_at) %>
      </div>
    </div>
  </div>

</div>
